<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A330 CB Search & Panels</title>
    <style>
        /* KISALTMALAR.HTML ƒ∞LE Bƒ∞REBƒ∞R AYNI TASARIM */
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f0f2f5; margin: 0; padding: 20px; display: flex; justify-content: center; }
        .container { max-width: 550px; width: 100%; background: white; padding: 30px; border-radius: 25px; box-shadow: 0 15px 35px rgba(0,0,0,0.1); min-height: 450px; }
        h1 { color: #1a3a5a; text-align: center; font-size: 22px; margin-bottom: 5px; }
        p.subtitle { text-align: center; color: #666; margin-bottom: 25px; font-size: 14px; }
        .back-link { text-decoration: none; color: #666; font-size: 14px; display: inline-block; margin-bottom: 20px; transition: 0.3s; }
        .back-link:hover { color: #0056b3; }

        #search { width: 100%; padding: 15px; margin-bottom: 15px; border: 2px solid #eee; border-radius: 15px; font-size: 16px; box-sizing: border-box; outline: none; transition: 0.3s; }
        #search:focus { border-color: #0056b3; box-shadow: 0 0 8px rgba(0,86,179,0.2); }

        /* T√ºm Panelleri G√∂ster Butonu (Koyu Gri/Mavi Stil) */
        .all-panels-btn {
            width: 100%; padding: 14px; margin-bottom: 20px; background-color: #34495e; color: white;
            border: none; border-radius: 12px; cursor: pointer; font-weight: bold; font-size: 13px;
            transition: 0.3s; box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        .all-panels-btn:hover { background-color: #2c3e50; transform: translateY(-2px); }

        .info-text { text-align: center; color: #888; font-size: 13px; margin-bottom: 20px; }

        /* CB Kart Stilleri */
        details { background: #fdfdfd; border-radius: 12px; margin-bottom: 12px; padding: 12px; border: 1px solid #eee; transition: 0.3s; }
        details[open] { border: 1px solid #0056b3; background: #fff; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }
        summary { font-weight: 600; cursor: pointer; color: #333; list-style: none; position: relative; padding-right: 25px; }
        summary::after { content: '‚ñ∂'; position: absolute; right: 5px; color: #0056b3; font-size: 12px; transition: 0.3s; }
        details[open] summary::after { transform: rotate(90deg); content: '‚ñº'; }

        .cb-box { padding: 15px 5px 5px 5px; font-size: 15px; color: #444; line-height: 1.6; }
        .location-tag { color: #c0392b; font-weight: bold; display: block; margin-top: 12px; background: #fff5f5; padding: 8px 12px; border-radius: 10px; border: 1px dashed #c0392b; }
        .view-btn { margin-top: 15px; width: 100%; padding: 12px; background-color: #0056b3; color: white; border: none; border-radius: 12px; cursor: pointer; font-weight: bold; font-size: 14px; transition: 0.3s; }

        /* Modal ve √áoklu Resim Yapƒ±sƒ± */
        #imgModal { 
            display: none; position: fixed; z-index: 9999; left: 0; top: 0; 
            width: 100%; height: 100%; background: rgba(0,0,0,0.95); 
            overflow-y: auto; padding: 60px 0; flex-direction: column; align-items: center;
        }
        
        .close-x {
            position: fixed; top: 15px; right: 25px; color: white; font-size: 50px;
            font-weight: bold; cursor: pointer; z-index: 10000; line-height: 1;
        }
        .close-x:hover { color: #ff4d4d; }

        .modal-content-wrapper { display: flex; flex-direction: column; align-items: center; gap: 30px; width: 100%; }
        .modal-img { max-width: 90%; border-radius: 15px; border: 2px solid rgba(255,255,255,0.2); box-shadow: 0 0 30px rgba(0,0,0,0.5); }
        .img-caption { color: #3498db; margin-bottom: -20px; font-weight: bold; font-size: 18px; text-transform: uppercase; background: rgba(0,0,0,0.6); padding: 5px 15px; border-radius: 10px; }
    </style>
</head>
<body>

<div class="container">
    <a href="index.html" class="back-link">‚Üê Ana Men√º</a>
    <h1>CIRCUIT BREAKERS</h1>
    <p class="subtitle"></p>
    
    <input type="text" id="search" onkeyup="renderList()" placeholder="FIN, Tanƒ±m veya Panel ara..." autocomplete="off">
    
    <button class="all-panels-btn" onclick="openAllPanels()">üó∫Ô∏è T√úM PANEL KONUMLARINI G√ñSTER (10 G√ñRSEL)</button>

    <p id="counter" class="info-text">Aramaya ba≈ülamak i√ßin en az 2 karakter yazƒ±n.</p>
    <div id="cb-list-container"></div>
</div>

<div id="imgModal">
    <span class="close-x" onclick="closeImg()">&times;</span>
    <div id="modalWrapper" class="modal-content-wrapper"></div>
</div>

<script src="data.js"></script>

<script>
    // 10 ADET GENEL G√ñRSELƒ∞N Lƒ∞STESƒ∞
    const allPanelImages = [
        { name: "", file: "all1.png" },
        { name: "", file: "all2.png" },
        { name: "", file: "all3.png" },
        { name: "", file: "all4.png" },
        { name: "", file: "all5.png" },
        { name: "", file: "all6.png" },
        { name: "", file: "all7.png" },
        { name: "", file: "all8.png" },
        { name: "", file: "all9.png" },
        { name: "", file: "all10.png" }
    ];

    function renderList() {
        const searchTerm = document.getElementById('search').value.toLowerCase();
        const container = document.getElementById('cb-list-container');
        const counter = document.getElementById('counter');
        container.innerHTML = '';

        if (searchTerm.length < 2) {
            counter.innerText = "Aramaya ba≈ülamak i√ßin en az 2 karakter yazƒ±n.";
            return;
        }

        const filteredData = cbData.filter(item => 
            item.fin.toLowerCase().includes(searchTerm) || 
            item.desc.toLowerCase().includes(searchTerm) || 
            item.panel.toLowerCase().includes(searchTerm)
        );

        counter.innerText = filteredData.length + " sonu√ß listelendi.";

        filteredData.forEach(item => {
            container.insertAdjacentHTML('beforeend', `
                <details>
                    <summary>${item.fin} - ${item.desc}</summary>
                    <div class="cb-box">
                        <b>Tanƒ±m:</b> ${item.desc}<br>
                        <b>FIN:</b> ${item.fin}<br>
                        <span class="location-tag">üìç Panel: ${item.panel} | Konum: ${item.loc}</span>
                        <button class="view-btn" onclick="openSingleImg('${item.panel}')">üñºÔ∏è ${item.panel} ≈ûEMASINI G√ñR</button>
                    </div>
                </details>
            `);
        });
    }

    function openSingleImg(panelName) {
        const fileName = panelName.toLowerCase().replace(/\s+/g, '');
        showModal([{ name: "Panel " + panelName.toUpperCase(), file: fileName + ".png" }]);
    }

    function openAllPanels() {
        showModal(allPanelImages);
    }

    function showModal(imgs) {
        const wrapper = document.getElementById('modalWrapper');
        wrapper.innerHTML = '';
        
        imgs.forEach(imgData => {
            wrapper.innerHTML += `
                <span class="img-caption">${imgData.name}</span>
                <img src="cbs/${imgData.file}" class="modal-img" onerror="this.src='https://via.placeholder.com/500x300?text=${imgData.file}+Bulunamadi'">
            `;
        });

        document.getElementById('imgModal').style.display = "flex";
        document.body.style.overflow = "hidden"; // Arka plan kaymasƒ±nƒ± engeller
    }

    function closeImg() {
        document.getElementById('imgModal').style.display = "none";
        document.body.style.overflow = "auto";
    }

    // Modal dƒ±≈üƒ±na tƒ±klayƒ±nca kapatma
    document.getElementById('imgModal').onclick = function(e) {
        if(e.target == this) closeImg();
    }
</script>

</body>
</html>
